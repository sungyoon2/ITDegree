# 운영체제 요약정리

> 컴퓨터 구성요소 중 하나인 버스(bus)의 구분<br>
- 위치 기준
```
- 내부
- 외부
```
- 기능 기준
```
- 데이터
- 주소
- 제어
```
---
> 운영체제<br>
- 하드웨어와 소프트웨어 자원을 관리하는 Program
---
> 캐시<br>
- 메인 메모리와 프로세서의 속도 차를 보완하는 메모리
---
> 운영체제의 성격<br>
- computer
```
win, unix, linux
```
- Phone
```
Android, ios
```
---
> Microprocessoer<br>
- 주기억 장치를 제외한 레지스터, 산술논리연산장치, 제어장치를 칩하나로 구성
- 개인용 컴퓨터에 주로 사용
---
> 다중 처리 시스템<br>
- 둘이상의 processor가 여러 프로그램을 동시에 처리하는 것
- 신뢰성, 가용성, 컴퓨터 능력 향상의 목적 달성 가능
- 주/종 다중 프로그래밍과 대칭적 구성 다중 프로그래밍 시스템이 제안
---
> 운영체제의 성능 판단요소
```
1. 처리능력
2. 신뢰도
3. 응답처리시간
4. 사용가능도
cf) not 비용
```
---
> 일반적인 컴퓨터의 구성요소<br>
```
사용자
S/W
H/W
```
---
> S/W<br>
- 유틸리티, os, 응용프로그램
---
> H/W<br>
- 기억장치(RAM), 중앙처리장치(CPU), 입출력장치(IO)
---
> 운영체제가 제공<br>
```
- 부트스트래핑 서비스
- 사용자 서비스
- 시스템 서비스
- 시스템 호출 서비스
=> 편리성 제공(더 쉽게 프로그래밍 가능토록)
```
---
> 운영체제의 자원관리 기능<br>
```
- 메모리 자원
- 프로세스 자원
- 장치
- 파일
```
---
> Bootstraping<br>
- 운영체제가 적재되는 과정
---
> 재진입프로그램<br>
- 메모리 내에 동잏한 사본을 여러사용자가 공유할 수 있도록 작성된 프로그램 또는 루틴
---
> 프로세서와 프로세스의 차이<br>
```
- 프로세서 : 하드웨어
- 프로세스 : 프로그램이 실행을 위해 주기억 장치내에 할당하는 독립적 공간과 역할을 통칭
```
---
> 프로세스<br>
- 메모리에 주소 송간을 가지는 능동적인 개체
---
> 코드<br>
- 메모리에 존재하는 프로세스 주소 공간(스택, 힙, 데이터, 코등) 중 프로세서가 실행하는 명령어를 제장하는 공간
---
> 인터럽트<br>
- 현재 실행되는 프로세스와는 별도로 외부에서 발생되는 요인에 의해 발생
- 문맥 교환의 원인 중 하나
```
- 입출력 인터럽트 : 입출력 동작이 발생한 사실을 확인후 이벤트를 기다리는 프로세스를 준비상태로 변경, 실행할 프로세스를 기다림
- 클록 인터럽트 : 실행 중인 프로세스의 할당 시간을 조사하여 준비 상태로 변경, 다른 프로세스를 디스패치하여 실행 상태로 변경
```
---
> 부모 자식관계(계층적 관계)<br>
- 실행중인 프로세스는 생성 시스템을 호출해 새로운 프로세스를 생성가능(이떄 계층적 관계는 유지됨
---
> 프로세스 종료<br>
```
- 프로세스가 명령실행후 종료되고 운영체제에 프로세스 삭제를 요청하는 경우
- 부모 프로세스는 자식프로세스가 할당된 자원을 초과하여 자원을 사용하는 경우 자식 프로세스 종료
- 부모 프로세스 종료시 자식 프로세스의 존재를 허용하지 않기에 --> 자식 프로세스 강제로 종료
- 정상적으로 프로세스가 운영체제의 종료 서비스를 호출한 경우
```
---
> 유닉스 시스템의 계층구조<br>
```
최상위           root
        |         |        |
    swapper      init      pagedaemon
    (PID=0)      (PID=1)    (PID=2)
                  |
            사용자 프로세스
```
---
> 스레드<br>
- 프로세스에서 실행 제어만 분리한 실행 단위
- 하나의 프로세스는 하나 이상의 스레드를 가짐
```
- 사용자 수준에서 지원되는 스레드 : 스레드 사이에 터널개입 X 
                                  => 장점 : 높은 이식성, 오버헤드 감소, 스케줄링의 유연성, 속도가 빠름
                                  => 단점 : 동시성 지원불가, 규모 확장 제약, 스레드가느이 보호가 어려움
- 커널 수준 스레드 : 사용자 스레드마다 프로세서(실행 문맥)을 일대일 매핑을 지원
                                  => 장점 : 커널 지원 부족 문제 해결-> 시스템 성능 향상 , 병렬 실행 가능, 확장이 쉬우며, 처리량을 늘릴 수 있음
                                  => 단점 : 오버헤드 증가 -> 성능 저하를 막기위해 스레드수를 제한, 이식성이 떨어짐
```
---
> 병행프로세스 간의 상호작용하는 형태<br>
```
- 경쟁관계에 있는 프로세스들은 서로 정보교환 X -> 한 프로세스 수행이 나머지 프로세스에 영향을 끼침
- 프로세스들은 서로 인식하지는 않음 -> 경쟁관계 유지
- 프로세스들은 입출력 버스를 비롯한 개체를 공유하는 단계에서 간접적으로  서로 관계인식
- 프로세스는 서로 인식하고 통신가능한 기본함수를 가짐
```
---
> 비동기적 병행 프로세스<br>
- 프로세스간에는 교신이 필요하기에 교신할 때 동기화가 되어야 하는 프로세스
---
> fork<br>
- 프로그램에서 두개의 병행 수행을 만드는 명령
---
> 상호배제<br>
- 컴퓨터 자원은 여러사용자와 장치가 공유하여 사용은 가능 but, 동시에 접근하여 수정은 불가
---
> 결정성<br>
```
- 병행프로세스 환경에서 각각의 실해에 따라 결과값이 달라지지는 않음
- 동시에 수행되는 다른 프로세스들의 실행속도와 관계없이 항상 일정한 실행결과를 보장하는 성질
```
> 임계자원<br>
- 둘이상의 프로세스가 공유할 수 없는 자원
---
> 세마포어<br>
```
- 다익스트라가 제안
- 두가지 연산을 통한 프로세스 동기화 문제 해결을 수행
- 상호배제의 문제를 극복하기 위함
- P,V연산과 S변수를 사용
```
---
> 모니터<br>
```
- 핸슨과 호가 개발
- 형태표현은 변수선언으로 구성 -> 변수값이 형태를 결정
- 모니터내의 프로세스는 자원이 다른 프로세스에 할당되어 대기가능
- 모니터 밖의 프로세스는 모니터에 있는 데이터에 접근붕가
```
---
> 데커 알고리즘<br>
```
- 소프트웨어적 임계영역문제 해결방법
- 하드웨어 도움없이 프로세스 두개의 상호문제를 해결하는 알고리즘
```
---
> 교착상태<br>
- 시스템 측면에서 자원의 요구가 뒤엉킨 상태,  병행처리기술과 자원공유에 따른 부작용
---
> 교착상태의 조건<br>
```
- 상호배제 : 한번에 하나의 프로세스에게만 해당 자원접근을 허용
- 점유 및 대기 : 할당된 자우너을 얻기위해 기다리는 프로세스가 있어야함
- 비선점 : 자원을 강제로 뺏을 수 없음, 점유하고 있는 프로세스가 끝나야 해제됨
- 순환대기 : 
```
---
> 교착상태 해결방법<br>
```
- 예방
- 회피
- 회복
```
---
> 교착상태 예방기법<br>
- 교착상태 필요충분조건중 하나라도 발생하지 않도록 하는 것
```
1. 상호배제 조건 방지
2. 점유 및 대기 조건 방지
3. 비선점 조건 방지
4. 순환대기 조건 방지
```
---
> 교착상태 회비 기법<br>
```
- 예방보다 덜 엄격한 조건 요구
- 자원을 좀더 효율적으로 이용하는 것이 목적
 <방법>
- 프로세스 시작 거부
- 자원 할당 거부 (= 은행가 알고리즘)
```
---
> 은행가 알고리즘<br>
```
- Dijkstra 제안
- 각프로세스가 요청하는 자원 종류의 최대수를 알아야함
- 자원을 어떻게 할당(자원순서 조정)할 것인가에 대한 정보가 필요
- '안정상태'와 '불안정 상태'가 존재
```
---
> 은행가 알고리즘의 단점<br>
```
- 할당할 수 있는 자원의 일정량을 요구
- 사용자 수는 일정해야 함
- 시스템 과부하의 증대
- 항상 불안정 상태를 유지해야 하므로 자원이용도가 낮음
- 자원할당량이 동적으로 변할시, 최대 자원 할당량 파악이 힘듬
- 프로세스는 자원을 보유한 상태로 끝낼 수 없음.
```
---
> 교착상태 회복기법 중 프로세스 중지<br>
```
- 자원사용과 시간면에서 비용이 많이듬
- 오랫동안 연상했을 가능성이 있는 프로세스 부분결과를 폐기하려 나주에 다시 연산하여야함
- 모든 프로세스 중지 or 일부 프로세스만 중지를 선택이 가능함
```
---
> 교착상태 탐지 알고리즘<br>
```
- 쇼샤니와 포크만이 제안
- 자주 발생시 탐지 알고리즘도 자주 호출
- 요청할 때 마다 교착상태 탐지 알고리즘 호출 시 연산부담이 큼
- 교착상태 발생 빈도수의 영향을 받는다.
- 경제적인 방법은 호출빈도를 줄이는 것
```
---
> 탐지 알고리즘 자료구조<br>
```
- Avaliable : 사용가능한 자원수를 표시
- Allocate : 이미 할당된 자원 수 표시
- Requset : 프로세스의 현재 요청을 표시
```
---
> 운영체제<br>
- 스케줄러를 스케줄링 큐에서 프로세스를 선택하기 위해 사용
---
> 다중 프로그래밍 환경<br>
- 스케줄링은 반드시 필요
---
> 스케줄링시 고려사항<br>
```
- 자원 할당의 공정성 : 무한정 연기x
- 단위 시간당 처리량 : 단위 시간당 유효시간을 줄이고 처리량을 최대화
- 응답시간 : 적절한 시간내에 응답
- 예측 가능성 : 시스템 부하에 관계없이 같은 시간내에 같은 비용
- 과부하 : 발생시 자원이 낭비되므로 줄여야되나, 시스템의 전반적인 성능을 향상시킬 수 있음
- 자원 사용의 균형 : 자원은 가능한 쉬지않고 사용할 수 있도록 스케줄링
- 응답시간과 자원의 활용 간에 균형유지 : 충분한 자원의 확보
- 실행 대기 : 자원을 오래 기다릴 수록 높은 우선순위 부여(에이징방법)
- 우선 순위
- 서비스 사용 기회 : 사용 기회를 자주 제공
- 서비스 수 
```
---
> 스케줄링의 단계<br>
```
1. 승인 스케줄링 : 작업 스케줄링(작업 선택) -> 수행 빈도로 표현 -> 장기 스케줄링
2. 작업 승인과 프로세서 할당(사용권한) : 권한부여, 완충 역할, 중기 스케줄링으로 교체 기능의 일부
3. 준비상태의 프로세서에 프로세스 할당(디스패칭) : 단기 스케줄링, 빈번한 실행을 통해 다은 실행할 프로세스를 결정
```
---
> 스케줄링 여부에 따른 분류<br>
```
- 반드시 스케줄링을 해야하는 경우 : 일반적인 프로세스
- 스케줄링 안해도 되는 것 : 인터럽트 처리, 오류 처리, 사용자의 시스템 호출등릐 사전처리
```
---
> 스케줄링을 위한 연결<br>
```
- 데이터베이스 -> 큐
- PCB -> 리스트 형태
```
---
> 선점 알고리즘과 비선점 알고리즘<br>
```
- 선점 알고리즘 : SRT, RR, MLQ, MFQ
- 비선점 알고리즘(정해진 요구순서대로 프로세스를 할당하는 알고리즘) : FLFO, SJF, HRD, 기한부, 우선순위
```
---
> 다단계 큐 스케줄링 알고리즘<br>
```
- 가장 보편적
- 전면작업 대화큐 -> 순환할당 스케줄링
- 후면작업 일괄처리큐 -> 선입선처리 스케줄링
```
---
> 다단계 피드백 큐 알고리즘<br>
```
- 작업이 하나의 큐에 들어가면 융통성이 떨어지는 단점을 보완
- 여러 큐를 사용
- 어떤 작업이 요구하는 프로세스의 기간이 너무 길어질시, 해당 작업을 낮은 단계 큐로 옮기는 알고리즘
```
---
> 다중 처리기 스케줄리<br>
```
- 강결합 다중처리기 시스템을 중심
- 각 프로세서들은 독자적인 큐 & 알고리즘 => 프로세서가 다르면 선택의 여지는 상대적으로 제한
- 작업은 프로세스 구조에 따라 특정하게 지정 & 특정 프로세스에 의해 실행되어야 함
- 같은 종류의 프로세서가 한 시스템에 여러개 있다면 부하 공유가 발생
```
---
> 에이징<br>
- 오랫동안 시스템에서 대기하는 프로세스들의 우선순위르 점진적으로 증가시키는 기법
---


































